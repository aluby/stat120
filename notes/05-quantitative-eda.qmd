---
title: "Notes 05: Quantitative Variables"
---

```{r setup, include=FALSE, message=FALSE}
library(tidyverse)
library(patchwork)
options(digits = 4)
notes_theme = theme_minimal(base_size = 12, base_family = "Source Sans 3")
theme_set(notes_theme)
```


Quantitative variables are best visualized with a **histogram** or **dotplot** (depending on sample size)

\vspace{1in}

When describing quantitative variables, we typically care most about the **shape** and **center**. When we want to summarize a quantitative variable with a single number, we often choose the **mean**, **median**, or **mode**.

+---------------------------+------------------------+--------------------------+
| Skewed Right \hspace{1in} | Symmetric \hspace{1in} | Skewed Left \hspace{1in} |
+===========================+========================+==========================+
| \vspace{1.5in}            |                        |                          |
|                           |                        |                          |
| .                         |                        |                          |
+---------------------------+------------------------+--------------------------+

There are various ways to describe the center of the distribution. The three most common are:

::: callout-note
Mean \vspace{.5in}
:::

::: callout-note
Median \vspace{.5in}
:::

::: callout-note
Mode \vspace{.5in}
:::

# Standard Deviation

```{r}
#| fig-width: 8
#| fig-height: 2
set.seed(092224)
tibble(
  x = c(rnorm(1000, mean = 10, sd = 1), 
        rnorm(1000, mean = 10, sd = 3), 
        rnorm(1000, mean = 10, sd = .25)),
  category = c(rep("s = 1", 1000), rep("s = 3", 1000), rep("s = .25", 1000 ))
) %>%
  ggplot(aes(x = x)) + 
  geom_histogram(col = "white") + 
  facet_grid(cols = vars(category)) + 
  theme(panel.grid.minor = element_blank())
```

::: callout-note
Standard Deviation

\vspace{.5in}
:::

The **68, 95, 99 rule** says that: 

\vspace{2in}

**Example:** Standardized test scores are often designed to have bell-curved distributions. The mean reported ACT score at Carleton is 33 with a standard deviation of 1.493. If we assume that Carleton's distribution is also symmetric and approximately bell-shaped, what interval gives the ACT score range of 95% of students? 

\vspace{2in}

# Z-Scores

::: callout-note
Z-Score

\vspace{.5in}
:::

**Example:** The nationwide average ACT score is 20.8 with a standard deviation of 5.8. The nationwide average SAT score is 1060 with a standard deviation of 195. A college admissions officer wants to determine which of two applicants scored better on their standardized test with respect to the other test-takers: Jordan, who earned an 1310 on their SAT, or Jim, who scored a 31 on his ACT? 

```{r}
#| fig-width: 8
#| fig-height: 2

p1 = ggplot(data = data.frame(x = c(400, 1600)), aes(x)) +
  stat_function(fun = dnorm, n = 101, args = list(mean = 1060, sd = 195)) + ylab("") +
  scale_y_continuous(breaks = NULL) + 
  xlab("")

p2 = ggplot(data = data.frame(x = c(4, 36)), aes(x)) +
  stat_function(fun = dnorm, n = 101, args = list(mean = 20.8, sd = 5.8)) + ylab("") +
  scale_y_continuous(breaks = NULL)+ 
  xlab("")

p3 = ggplot(data = data.frame(x = c(-3, 3)), aes(x)) +
  stat_function(fun = dnorm, n = 101, args = list(mean = 0, sd = 1)) + ylab("") +
  scale_y_continuous(breaks = NULL)+ 
  xlab("")

p1 + p2 + p3
```
\vspace{.5in}

# Boxplots 

A boxplot is a visualization of the **five number summary**, plus outliers. 

\vspace{1in}

::: callout-note
Outlier

\vspace{.5in}
:::

Boxplots are especially useful for comparing *quantitative variables* across different levels of a *categorical variable*. 

\vspace{1in}

# Outliers and Skewed Data

Outliers can be annoying. We have three options for dealing with them: 

1. Ignore them, and note that results may be impacted
2. Remove them, and note that results may be impacted (preferably include results from (1))
3. Transform the variable so they "matter" less

```{r}
#| fig-width: 8
#| fig-height: 3

toy_data = tibble(
  x = exp(c(rnorm(99), 4))
)

p1 = ggplot(toy_data, aes(x = x)) + 
  geom_histogram(col = "white") + 
  labs(
    title = "Original Variable",
    subtitle = paste("Mean:", round(mean(toy_data$x), 2), "Median:", round(median(toy_data$x),2 ))
  )

toy_data_filtered = toy_data %>%
  filter(x < 20)

p2 = toy_data_filtered %>%
  ggplot(aes(x = x)) + 
  geom_histogram(col = "white") + 
  labs(
    title = "Outlier Removed",
    subtitle = paste("Mean:", round(mean(toy_data_filtered$x), 2), "Median:", round(median(toy_data_filtered$x),2 ))
  )

p3 = ggplot(toy_data, aes(x = log(x))) + 
  geom_histogram(col = "white") + 
  labs(
    title = "Log-Transformed",
    subtitle = paste("Mean:", round(mean(log(toy_data$x), 2)), "Median:", round(median(log(toy_data$x)),2 ))
  )

p1 + p2 + p3
```

